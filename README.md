# コーディングプロジェクト環境ガイド

このプロジェクトは、Gulpを使用したモダンかつシンプルなWeb制作テンプレートです。
Preprosの使い勝手を踏襲しつつ、コマンド一つで納品用ファイルを生成できる機能を備えています。

## 1. 開発の始め方（新規案件時）

### 初期セットアップ
新しいプロジェクトフォルダを作成（テンプレートをコピー）した後、初回のみ以下のコマンドを実行してください。

```bash
npm install
```

### 開発スタート
コーディングを開始する際は、以下のコマンドを実行します。

```bash
npm run dev
# または npm start
```

*   **ローカルサーバー**: 自動的にブラウザが立ち上がります（http://localhost:3000）。
*   **自動更新**: HTML, SCSS, JSファイルを保存すると、ブラウザが自動でリロードされます。
*   **Sassコンパイル**: SCSSを保存すると、自動的に `src/assets/css` 内にCSSが生成されます。

---

## 2. ディレクトリ構成

開発リソースは全て **`src`** ディレクトリ内に格納します。

*   `src/index.html`: プロジェクトのメインファイル。
*   `src/assets/scss/`: Sass（SCSS）の元データ。
*   `src/assets/css/`: コンパイル済みのCSS（自動生成）。
*   `src/assets/js/`: JavaScriptファイル。
*   `src/assets/images/`: 画像素材。

### SCSS構成の詳細
直感的に場所を探せるよう、役割ごとにファイルを分割しています。

*   `_config.scss`: 変数（色・ブレイクポイント）と共通Mixin。
*   `_reset.scss`: ブラウザ間の差異を解消するリセット設定。
*   `_global.scss`: HTMLタグへの基本設定（`body`, `a`, `img`等）。
*   `_layout.scss`: サイトの枠組み（ヘッダー、フッター、インナー幅）。
*   `_utility.scss`: 調整用クラス（表示切り替え、アニメーション、汎用クラス）。
*   `base.scss`: 上記を統合し、全ページ共通で読み込むファイル。
*   `top.scss`: トップページ専用のスタイル。

---

## 3. 納品ファイルの作成

コーディングが完了し、クライアントへ提出するファイルを作成する際は、以下のコマンドを実行します。

```bash
npm run build
```

### ビルド後の処理
1.  プロジェクト内に **`dist`** フォルダが生成されます。
2.  このフォルダには、HTML、コンパイル済みCSS、JS、画像のみが格納されます。
    *   `node_modules` や `scss` などの開発用ファイルは自動的に除外されます。
3.  **`dist` フォルダの中身をそのまま納品してください。**
    *   Viteなどと異なり、生成されるファイルは標準的な構成（ES Modulesなし）のため、ローカル環境でもダブルクリックで閲覧可能です。

---

## 4. 補足：Sassの計算式について

最新のSass（Dart Sass）の仕様に基づき、割り算には `/` ではなく `math.div()` を使用しています。
`assets/scss/_config.scss` 内のミックスイン（`fz` など）は、この新形式にアップデート済みです。

*   **例（フォントサイズ計算）**:
    ```scss
    // 修正前: ($font-size / 10) + rem
    // 修正後: math.div($font-size, 10) + rem
    ```

---

## 5. CSS/Sass設計について

本テンプレートでは、保守性を高めるため以下の設計思想を取り入れています。

*   **オートプレフィックス**: ベンダープレフィックス（`-webkit-`等）はGulpがビルド時に自動付与するため、SCSS側で記述する必要はありません。
*   **命名規則**: 役割を明示する接頭辞（プレフィックス）を採用しています。
    *   `l-` (Layout): 外枠、グリッド、インナーなど（`_layout.scss`）
    *   `c-` (Component): ボタン、カード、アニメーション等の部品（`_utility.scss`）
    *   `u-` (Utility): 表示切り替え、余白調整などの便利クラス（`_utility.scss`）

---

## 6. レスポンシブ対応（mq mixin）

メディアクエリを簡潔に記述できる `mq` ミキシンを用意しています。
`src/assets/scss/_config.scss` で定義されており、どこからでも呼び出し可能です。

### 基本的な使い方
```scss
.example {
  width: 100%; // PC（デフォルト）

  @include mq(sp) {
    width: 50%; // スマホ
  }
}
```

### 引数一覧
| 引数 | ターゲット | デフォルト値 |
| :--- | :--- | :--- |
| `sp` | スマートフォン | ~720px |
| `tab` | タブレット | ~1366px |
| `pc` | PC | 721px~ |

### 活用例：PCのみホバー適用
スマホでのタップ時の挙動不審を防ぐため、ホバー効果はPCのみに限定することを推奨します。

```scss
.btn {
  background: #000;

  @include mq(pc) {
    &:hover {
      background: #ccc;
    }
  }
}
```

### ブレイクポイントの変更
`src/assets/scss/_config.scss` 内の変数を変更してください。

```scss
$breakpoint_s: 720;
$breakpoint_m: 1366;
```
